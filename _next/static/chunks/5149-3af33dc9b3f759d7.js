(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5149],{72016:function(e,n,t){"use strict";t.d(n,{$:function(){return te}});var r,i,o,c,a=t(95235),s=t(20406),u=t(28526),l=t.n(u),p=t(2784),f=t(6277),m=t(61166),d=t(5632),h=t(25130),g=t.n(h),v=t(45847),b=t.n(v),y=t(52322),_=g()("data:grecaptcha"),w=function(e){var n=e.siteKey;return(0,y.jsx)(y.Fragment,{children:!!n&&(0,y.jsx)(b(),{id:"google-recaptcha-3",src:"https://www.google.com/recaptcha/api.js?render=".concat(n),onLoad:function(){_("Google Recaptcha Script loaded."),_("Google Recaptcha v3 Site Key: ".concat(n))}})})},j=t(72341),x=t(37674),O=t(22887),C=t(19324),S=t(14753),k=t(48592),Z=t(96002),E=t(46169),P=t(17571),R=t(82439),N=t(84499),U=t(96412),$=t(13089),D=t(90129),A=t(29017),T=t(48200),W=t(36250),F=t(62435),q=t(7328),L=t(40558),I=((0,L.Ps)(r||(r=(0,q.Z)(["\n  mutation CryptoAssetManagementEmailSend(\n    $input: ContactFormAssetManagementEmailSendInput!\n  ) {\n    contactFormAssetManagementEmailSend(input: $input) {\n      errors {\n        message\n      }\n    }\n  }\n"]))),(0,L.Ps)(i||(i=(0,q.Z)(["\n  mutation CryptoEmailSend($input: ContactFormEmailSendInput!) {\n    contactFormEmailSend(input: $input) {\n      errors {\n        message\n      }\n    }\n  }\n"]))),(0,L.Ps)(o||(o=(0,q.Z)(["\n  mutation SubscribeUserViaEmail(\n    $email: Email\n    $googleRecaptchaToken: String\n    $source: String\n  ) {\n    subscribeUserViaEmail(\n      input: {\n        subscribe: {\n          email: $email\n          googleRecaptchaToken: $googleRecaptchaToken\n          source: $source\n        }\n      }\n    ) {\n      xLead\n      errors {\n        message\n      }\n    }\n  }\n"])))),z=(0,L.Ps)(c||(c=(0,q.Z)(["\n  query UserSubscriptions($slug: String!) {\n    user(slug: $slug) {\n      id\n      email\n      subscriptions {\n        id\n        body\n        description\n        name\n        preRegister\n        redirectUrl\n        subject\n      }\n    }\n  }\n"])));function B(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?B(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function M(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,T.Z)(e);if(n){var i=(0,T.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,A.Z)(this,t)}}var V=function(e){(0,D.Z)(t,e);var n=M(t);function t(){return(0,U.Z)(this,t),n.apply(this,arguments)}return(0,$.Z)(t,[{key:"mutation",get:function(){return I}}]),t}(W.p);var Y=t(700),G=t(16392);function H(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function J(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,T.Z)(e);if(n){var i=(0,T.Z)(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return(0,A.Z)(this,t)}}var Q=function(e){(0,D.Z)(t,e);var n=J(t);function t(e){return(0,U.Z)(this,t),n.call(this,e)}return(0,$.Z)(t,[{key:"query",get:function(){return z}}]),t}(Y.m);var ee=t(91035),ne=t.n(ee),te=(0,m.Pi)((function(e){var n,t,r=e.source,i=e.googleRecaptchaSiteKey,o=e.buttonText,c=void 0===o?"Sign up":o,u=e.buttonType,h=void 0===u?"primary":u,g=e.inline,v=void 0!==g&&g,b=e.success,U=void 0!==b&&b,$=e.className,D=e.inputClassName,A=e.buttonClassName,T=e.buttonSize,W=void 0===T?"small":T,q=e.fullWidth,L=e.checkUserSubscription,I=void 0!==L&&L,z=(0,d.useRouter)(),B=(0,p.useState)(void 0),M=B[0],Y=B[1],H=function(e){var n=(0,F.g)();return(0,G.a)((function(){return new Q(X(X({},e),{},{client:n}))}),null===e||void 0===e?void 0:e.variables)}({variables:{slug:""},lazy:!0}),J=null===(n=H.data)||void 0===n?void 0:n.user,ee=!(null===J||void 0===J||null===(t=J.subscriptions)||void 0===t||!t.find((function(e){return e.name===r}))),te=function(e){var n=(0,F.g)();return(0,m.fv)((function(){return new V(K(K({},e),{},{client:n}))}))}({fields:{email:new R.WA(N.qC(N.C1(),N.D6()),(function(){var e;return null!==(e=null===J||void 0===J?void 0:J.email)&&void 0!==e?e:void 0})),source:new R.WA(void 0,r),googleRecaptchaToken:new R.WA(void 0,(function(){}))}});(0,p.useEffect)((function(){I&&H.subscribe()}),[H,I]),(0,p.useEffect)((function(){null!==J&&void 0!==J&&J.email&&(te.fields.email.value=J.email)}),[J,te.fields.email]);var re=(0,y.jsx)(k.U,{disabled:ee||!(null===J||void 0===J||!J.email),htmlId:"email-subscription-form",name:"email",size:"regular",placeholder:"Enter your email",field:te.fields.email,enableStatus:!1,showMessage:!1,squareCorners:v?"right":void 0,addon:ee&&(0,y.jsx)(Z.N,{icon:E.r,height:14,className:ne().check}),tooltipProps:{trigger:"click",theme:"light",closeOnOutsideClick:!0,interactive:!0,content:(0,y.jsxs)(j.x,{weight:"300",type:{xs:"bodySmall"},children:["By continuing you are agreeing to our"," ",(0,y.jsx)(x.r,{inherit:!0,variant:x.r.variants.underline,href:"/terms",children:"terms"})," ","and"," ",(0,y.jsx)(x.r,{inherit:!0,variant:x.r.variants.underline,href:"/privacy",children:"privacy policy"})]}),placement:v?"bottom":"right"},inputClassName:(0,f.Z)((0,a.Z)({},ne().isInvalid,!te.isValid&&te.fields.email.touched),ne().input,D)}),ie=(0,y.jsx)(O.z,{disabled:ee,className:(0,f.Z)(ne().button,(0,a.Z)({},ne().inline,v),A),squareCorners:v?"left":void 0,onClick:function(){var e,n;Y(void 0),e=i,n=function(){var e=(0,s.Z)(l().mark((function e(n){var t,r,i,o,c,a,s,u,p,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(te.fields.googleRecaptchaToken.value=n),e.next=3,te.submit();case 3:i=e.sent,o=i&&(null===i||void 0===i||null===(t=i.data)||void 0===t||null===(r=t.subscribeUserViaEmail)||void 0===r?void 0:r.errors),(c=o&&"You are already subscribed"===o[0].message)&&Y(o[0].message),!c&&i&&(p=new URLSearchParams({email:null===(a=te.fields.email)||void 0===a?void 0:a.value,email_only:"true",lock_email:"true"}),f=null!==i&&void 0!==i&&null!==(s=i.data)&&void 0!==s&&null!==(u=s.subscribeUserViaEmail)&&void 0!==u&&u.xLead?"/register?".concat(p.toString()):"/login",z.push(f));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e&&window.grecaptcha?window.grecaptcha.ready((function(){window.grecaptcha.execute(e,{action:"submit"}).then((function(e){_("Recaptcha Execute successful. Token: ".concat(e)),n(e)}),(function(){_("Recaptcha Execute failed. Continuing without token."),n()}))})):(_("Recaptcha Site Key not found. Continuing without requesting token."),n())},fullWidth:!v,loading:te.isLoading,size:W,shadow:void 0,type:h,success:U,children:c}),oe=(0,y.jsx)(C.x,{m:v?"4px 0 2px 0":"8px 0 1brm 0",className:v?(0,f.Z)(ne().errorContainer,(0,a.Z)({},ne().showError,!!M)):"",children:(0,y.jsxs)(j.x,{weight:"300",type:"bodySmall",p:"0 0 0 0.3brm",children:[(0,y.jsx)(Z.N,{icon:P.r,height:14,className:ne().cross})," ",M]})});return(0,y.jsxs)(C.x,{className:(0,f.Z)((0,a.Z)({},ne().fullWidth,!!q)),children:[v?(0,y.jsxs)(S.kC,{className:(0,f.Z)(ne().formContainer,$),children:[(0,y.jsx)(C.x,{className:ne().inputContainer,children:re}),ie,oe]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(C.x,{m:"0 0 0.5brm 0",children:[re,!!M&&oe]}),ie]}),(0,y.jsx)(w,{siteKey:i})]})}))},41773:function(e,n,t){"use strict";var r;t.d(n,{g:function(){return r}}),function(e){e.Homepage="homepage",e.Crypto="crypto",e.WeeklyNewsletter="weekly_newsletter",e.StartupLaunches="startup_launches",e.RepublicCities="republic_cities",e.NycCampaign="nyc_campaign",e.NoteSale="note_sale",e.LinenPreRegister="linen_pre_register",e.Note2023="note_2023"}(r||(r={}))},91035:function(e){e.exports={inputContainer:"email-subscription-form_inputContainer__ApRtY",formContainer:"email-subscription-form_formContainer__uXHmE",check:"email-subscription-form_check__fTE7b",cross:"email-subscription-form_cross__24Y8O",inline:"email-subscription-form_inline__c_cxU",fullWidth:"email-subscription-form_fullWidth__U3jFD",isInvalid:"email-subscription-form_isInvalid__x4YUa",errorContainer:"email-subscription-form_errorContainer__Cc_Ux",showError:"email-subscription-form_showError__FmhNM",upAnimation:"email-subscription-form_upAnimation__qC94P"}}}]);
//# sourceMappingURL=5149-3af33dc9b3f759d7.js.map